var J=Object.defineProperty;var y=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var w=(t,l,u)=>l in t?J(t,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[l]=u,F=(t,l)=>{for(var u in l||(l={}))O.call(l,u)&&w(t,u,l[u]);if(y)for(var u of y(l))W.call(l,u)&&w(t,u,l[u]);return t};var C=(t,l,u)=>new Promise((b,m)=>{var p=c=>{try{d(u.next(c))}catch(r){m(r)}},f=c=>{try{d(u.throw(c))}catch(r){m(r)}},d=c=>c.done?b(c.value):Promise.resolve(c.value).then(p,f);d((u=u.apply(t,l)).next())});import{T as Q,B as X}from"./TableAction.3aeeaebf.js";import{u as Y,B as Z}from"./useForm.8533c118.js";import{h as ee,L as A,cn as ue,d as oe,k as te,r as _,u as ne,i as D,o as le,c as ae,q as n,a as o,p as s,K as se,z as v,A as re,N as ie,G as ce,B as de,aK as pe,H as me,a9 as _e,by as fe,J as Fe}from"./index.1257e8b0.js";import"./propTypes.c047a88a.js";import"./componentSetting.9cb0737a.js";import"./index.esm.2ecd0768.js";import"./Popconfirm.2f3d4e90.js";function be(t){return ee.request({url:"/table/list",method:"get",params:t})}const ge=[{title:"id",key:"id",width:100},{title:"\u540D\u79F0",key:"name",width:100},{title:"\u5934\u50CF",key:"avatar",width:100,render(t){return A(ue,{size:48,src:t.avatar})}},{title:"\u5730\u5740",key:"address",auth:["basic_list"],ifShow:t=>!0,width:150},{title:"\u5F00\u59CB\u65E5\u671F",key:"beginTime",width:160},{title:"\u7ED3\u675F\u65E5\u671F",key:"endTime",width:160},{title:"\u521B\u5EFA\u65F6\u95F4",key:"date",width:100}],he=v(" \u65B0\u5EFA "),Be=v("\u53D6\u6D88"),ve=v("\u786E\u5B9A"),Ne=oe({setup(t){const l={name:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u540D\u79F0"},address:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u5730\u5740"},date:{type:"number",required:!0,trigger:["blur","change"],message:"\u8BF7\u9009\u62E9\u65E5\u671F"}},u=[{field:"name",labelMessage:"\u8FD9\u662F\u4E00\u4E2A\u63D0\u793A",component:"NInput",label:"\u59D3\u540D",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"\u624B\u673A",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"\u7C7B\u578B",componentProps:{placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B",options:[{label:"\u8212\u9002\u6027",value:1},{label:"\u7ECF\u6D4E\u6027",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"\u9884\u7EA6\u65F6\u95F4",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"\u505C\u7559\u65F6\u95F4",componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",label:"\u72B6\u6001",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"\u9884\u7EA6\u9879\u76EE",componentProps:{placeholder:"\u8BF7\u9009\u62E9\u9884\u7EA6\u9879\u76EE",options:[{label:"\u79CD\u7259",value:1},{label:"\u8865\u7259",value:2},{label:"\u6839\u7BA1",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"\u6765\u6E90",componentProps:{options:[{label:"\u7F51\u4E0A",value:1},{label:"\u95E8\u5E97",value:2}],onUpdateChecked:e=>{console.log(e)}}}],b=te(),m=_(null),p=ne(),f=_(),d=_(!1),c=_(!1),r=D({name:"",address:"",date:null}),T=_({pageSize:5,name:"xiaoMa"}),N=D({width:220,title:"\u64CD\u4F5C",key:"action",fixed:"right",align:"center",render(e){return A(Q,{style:"button",actions:[{label:"\u5220\u9664",type:"error",quaternary:!0,icon:"ic:outline-delete-outline",onClick:V.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"\u7F16\u8F91",type:"primary",quaternary:!0,onClick:q.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"\u542F\u7528",key:"enabled",ifShow:()=>!0},{label:"\u7981\u7528",key:"disabled",ifShow:()=>!0}],select:a=>{p.info(`\u60A8\u70B9\u51FB\u4E86\uFF0C${a} \u6309\u94AE`)}})}}),[P,{}]=Y({gridProps:{cols:"1 s:2 m:3 l:4 xl:5 xxl:6"},labelWidth:80,schemas:u});function x(){d.value=!0}const R=e=>C(this,null,function*(){return yield be(F(F(F({},r),T.value),e))});function S(e){console.log(e)}function E(){f.value.reload()}function U(e){e.preventDefault(),c.value=!0,m.value.validate(a=>{a?p.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F"):(p.success("\u65B0\u5EFA\u6210\u529F"),setTimeout(()=>{d.value=!1,E()})),c.value=!1})}function q(e){console.log("\u70B9\u51FB\u4E86\u7F16\u8F91",e),b.push({name:"basic-info",params:{id:e.id}})}function V(e){console.log("\u70B9\u51FB\u4E86\u5220\u9664",e),p.info("\u70B9\u51FB\u4E86\u5220\u9664")}function I(e){console.log(e),E()}function M(e){console.log(e)}return(e,a)=>{const g=re,z=ie,h=ce,B=de,K=pe,L=me,$=_e,G=fe,j=Fe;return le(),ae(j,{bordered:!1,class:"proCard"},{default:n(()=>[o(s(Z),{onRegister:s(P),onSubmit:I,onReset:M},{statusSlot:n(({model:i,field:k})=>[o(g,{value:i[k],"onUpdate:value":H=>i[k]=H},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"]),o(s(X),{columns:s(ge),request:R,"row-key":i=>i.id,ref_key:"actionRef",ref:f,actionColumn:s(N),"onUpdate:checkedRowKeys":S,"scroll-x":1090},{tableTitle:n(()=>[o(h,{type:"primary",onClick:x},{icon:n(()=>[o(z,null,{default:n(()=>[o(s(se))]),_:1})]),default:n(()=>[he]),_:1})]),_:1},8,["columns","row-key","actionColumn"]),o(G,{show:d.value,"onUpdate:show":a[4]||(a[4]=i=>d.value=i),"show-icon":!1,preset:"dialog",title:"\u65B0\u5EFA"},{action:n(()=>[o($,null,{default:n(()=>[o(h,{onClick:a[3]||(a[3]=()=>d.value=!1)},{default:n(()=>[Be]),_:1}),o(h,{type:"info",loading:c.value,onClick:U},{default:n(()=>[ve]),_:1},8,["loading"])]),_:1})]),default:n(()=>[o(L,{model:s(r),rules:l,ref_key:"formRef",ref:m,"label-placement":"left","label-width":80,class:"py-4"},{default:n(()=>[o(B,{label:"\u540D\u79F0",path:"name"},{default:n(()=>[o(g,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",value:s(r).name,"onUpdate:value":a[0]||(a[0]=i=>s(r).name=i)},null,8,["value"])]),_:1}),o(B,{label:"\u5730\u5740",path:"address"},{default:n(()=>[o(g,{type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5730\u5740",value:s(r).address,"onUpdate:value":a[1]||(a[1]=i=>s(r).address=i)},null,8,["value"])]),_:1}),o(B,{label:"\u65E5\u671F",path:"date"},{default:n(()=>[o(K,{type:"datetime",placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",value:s(r).date,"onUpdate:value":a[2]||(a[2]=i=>s(r).date=i)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})}}});export{Ne as default};
