var O=Object.defineProperty;var k=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var x=(n,l,t)=>l in n?O(n,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[l]=t,v=(n,l)=>{for(var t in l||(l={}))W.call(l,t)&&x(n,t,l[t]);if(k)for(var t of k(l))Y.call(l,t)&&x(n,t,l[t]);return n};var R=(n,l,t)=>new Promise((a,f)=>{var g=r=>{try{b(t.next(r))}catch(y){f(y)}},F=r=>{try{b(t.throw(r))}catch(y){f(y)}},b=r=>r.done?a(r.value):Promise.resolve(r.value).then(g,F);b((t=t.apply(n,l)).next())});import{T as Z,B as Q}from"./TableAction.3aeeaebf.js";import{u as X,B as ee}from"./useForm.8533c118.js";import{h as T,L as h,bP as N,_ as te,d as oe,r as _,i as I,u as ue,o as ne,c as le,q as u,J as ae,a as e,p as d,bv as se,z as p,a4 as m,A as re,G as ce,bY as ie,bZ as pe,bn as _e,b1 as de,b2 as me}from"./index.1257e8b0.js";import{_ as fe}from"./index.a357f5ef.js";import"./propTypes.c047a88a.js";import"./componentSetting.9cb0737a.js";import"./index.esm.2ecd0768.js";import"./Popconfirm.2f3d4e90.js";function be(n){return T.request({url:"/sysLog",method:"GET",params:n})}function ye(n){return T.request({url:"/sysLog/"+n,method:"DELETE"})}const ge=[{type:"selection"},{title:"\u7528\u6237\u540D",key:"userName",fixed:"left"},{title:"\u7528\u6237ID",key:"userId"},{title:"\u7528\u6237IP",key:"userIp"},{title:"\u6240\u5C5E\u7CFB\u7EDF",key:"sysType",render({sysType:n}){const t={MCH:{type:"success",text:"\u5546\u6237\u7CFB\u7EDF"},MGR:{type:"info",text:"\u8FD0\u8425\u5E73\u53F0"}}[n];return t?h(N,{type:t.type,size:"medium"},()=>h("span",t.text)):"\u672A\u77E5"}},{title:"\u64CD\u4F5C\u63CF\u8FF0",key:"methodRemark"},{title:"\u521B\u5EFA\u65E5\u671F",key:"createdAt"}];const ve=p(" \u5220\u9664 "),Fe=oe({setup(n){const l=[{field:"date",component:"NDatePicker",componentProps:{placeholder:"\u65E5\u671F",type:"daterange",clearable:!0,range:_([118313526e4,Date.now()]),onInput:o=>{console.log(o)}},rules:[{required:!1,message:"\u8BF7\u8F93\u5165\u5546\u6237\u53F7",trigger:["blur"]}]},{field:"userID",component:"LBTextUp",componentProps:{placeholder:"\u7528\u6237ID",showButton:!1,onInput:o=>{console.log(o)}}},{field:"userName",component:"LBTextUp",componentProps:{placeholder:"\u7528\u6237\u540D\u79F0",showButton:!1}},{field:"systemType",component:"NSelect",componentProps:{placeholder:"\u6240\u5C5E\u7CFB\u7EDF",options:[{label:"\u5546\u6237\u7CFB\u7EDF",value:"MCH"},{label:"\u8FD0\u8425\u5E73\u53F0",value:"MGR"}],onUpdateValue:o=>{console.log(o)}}}],t=_(),a=_({}),f=_(!1),g=_(!1),F=o=>{console.log(o)};let b=I({mchName:"",loginUserName:null,mchShortName:"",contactName:"",contactEmail:"",contactTel:"",type:0,state:1,isvNo:""});const r=_({pageSize:5}),y=I({title:"\u64CD\u4F5C",key:"action",align:"center",fixed:"right",render(o){return h(Z,{style:"button",actions:[{label:"\u8BE6\u60C5",quaternary:!0,type:"primary",onClick:S.bind(null,o)}]})}}),[P,{}]=X({gridProps:{cols:"1 s:2 m:3 l:4 xl:5 xxl:6"},labelWidth:80,schemas:l}),U=o=>R(this,null,function*(){return yield be(v(v(v({},b),r.value),o))}),D=_([]);function L(o){D.value=o}function w(){t.value.reload()}function S(o){a.value=o,f.value=!0}function q(o){console.log(o),w()}function M(o){console.log(o)}const z=ue();function G(){ye(D.value.join()).then(()=>{z.success("\u5220\u9664\u6210\u529F"),w()})}return(o,i)=>{const C=re,A=ce,c=ie,V=N,B=pe,$=_e,H=de,K=me,j=ae;return ne(),le(j,{bordered:!1,class:"proCard"},{default:u(()=>[e(d(ee),{onRegister:d(P),onSubmit:q,onReset:M},{statusSlot:u(({model:s,field:E})=>[e(C,{value:s[E],"onUpdate:value":J=>s[E]=J},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"]),e(d(Q),{columns:d(ge),actionColumn:d(y),request:U,"row-key":s=>s.sysLogId,ref_key:"actionRef",ref:t,"onUpdate:checkedRowKeys":L},{tableTitle:u(()=>[e(A,{type:"error",onClick:G},{icon:u(()=>[e(d(se))]),default:u(()=>[ve]),_:1})]),_:1},8,["columns","actionColumn","row-key"]),e(K,{show:f.value,"onUpdate:show":i[2]||(i[2]=s=>f.value=s),width:600},{default:u(()=>[e(H,{title:"\u5546\u6237\u8BE6\u60C5",closable:""},{default:u(()=>[e(B,{"label-placement":"left",columns:2},{default:u(()=>[e(c,{label:"\u7528\u6237ID"},{default:u(()=>[p(m(a.value.userId),1)]),_:1}),e(c,{label:"\u7528\u6237IP"},{default:u(()=>[p(m(a.value.userIp),1)]),_:1}),e(c,{label:"\u7528\u6237\u540D"},{default:u(()=>[p(m(a.value.userName),1)]),_:1}),e(c,{label:"\u6240\u5C5E\u7CFB\u7EDF"},{default:u(()=>[e(V,{size:"small",color:{textColor:"#52c41a",color:"#f6ffed",borderColor:"#b7eb8f"}},{default:u(()=>[p(m(a.value.sysType==="MGR"?"\u8FD0\u8425\u5E73\u53F0":a.value.sysType==="MGR"?"\u5546\u6237\u7CFB\u7EDF":""),1)]),_:1})]),_:1})]),_:1}),e($),e(B,{"label-placement":"left",columns:1},{default:u(()=>[e(c,{label:"\u64CD\u4F5C\u63CF\u8FF0"},{default:u(()=>[p(m(a.value.methodRemark),1)]),_:1}),e(c,{label:"\u8BF7\u6C42\u65B9\u6CD5"},{default:u(()=>[p(m(a.value.methodName),1)]),_:1}),e(c,{label:"\u8BF7\u6C42\u5730\u5740"},{default:u(()=>[p(m(a.value.reqUrl),1)]),_:1}),e(c,{label:"\u8BF7\u6C42\u53C2\u6570","content-style":"width:100%"},{default:u(()=>[e(C,{disabled:"",type:"textarea",maxlength:"30",value:a.value.optReqParam,"onUpdate:value":i[0]||(i[0]=s=>a.value.optReqParam=s),style:{"background-color":"black"},autosize:{minRows:5}},null,8,["value"])]),_:1}),e(c,{label:"\u54CD\u5E94\u53C2\u6570","content-style":"width:100%"},{default:u(()=>[e(C,{disabled:"",type:"textarea",maxlength:"30",value:a.value.optResInfo,"onUpdate:value":i[1]||(i[1]=s=>a.value.optResInfo=s),style:{"background-color":"black"},autosize:{minRows:5}},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"]),e(d(fe),{show:g.value,"onUpdate:show":i[3]||(i[3]=s=>g.value=s),onSelectIcon:F},null,8,["show"])]),_:1})}}});var Ie=te(Fe,[["__scopeId","data-v-b9476496"]]);export{Ie as default};
