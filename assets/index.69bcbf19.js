var O=Object.defineProperty;var A=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var x=(s,r,a)=>r in s?O(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a,C=(s,r)=>{for(var a in r||(r={}))q.call(r,a)&&x(s,a,r[a]);if(A)for(var a of A(r))$.call(r,a)&&x(s,a,r[a]);return s};var k=(s,r,a)=>new Promise((u,p)=>{var E=i=>{try{m(a.next(i))}catch(b){p(b)}},h=i=>{try{m(a.throw(i))}catch(b){p(b)}},m=i=>i.done?u(i.value):Promise.resolve(i.value).then(E,h);m((a=a.apply(s,r)).next())});import{T as M,B as J}from"./TableAction.3aeeaebf.js";import{u as K,B as W}from"./useForm.8533c118.js";import{d as Y,e as Z}from"./pay.2685eb57.js";import j from"./OrderState.f279ec6c.js";import{L as F,bP as T,_ as G,d as H,r as f,i as Q,o as X,c as ee,q as t,J as ue,a as e,p as v,z as n,a4 as o,m as te,A as le,bY as ae,bZ as ne,bn as oe,b1 as se,b2 as re}from"./index.1257e8b0.js";import"./propTypes.c047a88a.js";import"./componentSetting.9cb0737a.js";import"./index.esm.2ecd0768.js";import"./Popconfirm.2f3d4e90.js";function ce(s,r){if(s.length<=r)return s;const a=r/2,u=s.substring(0,a-1),p=s.substring(s.length-a,s.length);return u+"..."+p}const de=[{title:"\u8F6C\u8D26\u91D1\u989D",key:"amount",fixed:"left",width:100,render(s){return F("b",{},`\xA5${s.amount*.01}`)}},{title:"\u5546\u6237\u540D\u79F0",key:"mchName",width:100},{title:"\u8BA2\u5355\u53F7",key:"orderNo",width:200,render:({transferId:s,mchOrderNo:r})=>F(j,{row1Label:"\u8F6C\u8D26",row1Value:s,row2Label:"\u5546\u6237",row2Value:ce(r,s.length)})},{title:"\u6536\u6B3E\u8D26\u53F7",key:"accountNo",width:200},{title:"\u6536\u6B3E\u4EBA\u59D3\u540D",key:"accountName",width:200},{title:"\u8F6C\u8D26\u5907\u6CE8",key:"transferDesc",width:200},{title:"\u72B6\u6001",key:"state",width:100,render({state:s}){const a={0:{type:"warning",text:"\u8BA2\u5355\u751F\u6210"},1:{type:"success",text:"\u8F6C\u8D26\u4E2D"},2:{type:"info",text:"\u8F6C\u8D26\u6210\u529F"},3:{type:"error",text:"\u8F6C\u8D26\u5931\u8D25"},4:{type:"error",text:"\u4EFB\u52A1\u5173\u95ED"}}[s];return a?F(T,{type:a.type,size:"small"},()=>F("span",a.text)):"\u72B6\u6001\u672A\u77E5"}},{title:"\u521B\u5EFA\u65E5\u671F",key:"createdAt",width:160}];const ie=H({setup(s){const r=[{field:"date",component:"NDatePicker",componentProps:{placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",type:"daterange",clearable:!0,range:f([118313526e4,Date.now()]),onInput:c=>{console.log(c)}}},{field:"unionOrderId",component:"LBTextUp",componentProps:{placeholder:"\u8BA2\u5355\u53F7",showButton:!1,onInput:c=>{console.log(c)}}},{field:"mchNo",component:"LBTextUp",componentProps:{placeholder:"\u5546\u6237\u53F7",showButton:!1}},{field:"appId",component:"LBTextUp",componentProps:{placeholder:"\u5E94\u7528AppId",showButton:!1}},{field:"state",component:"NSelect",componentProps:{placeholder:"\u8F6C\u8D26\u72B6\u6001",options:[{label:"\u5168\u90E8",value:0},{label:"\u8BA2\u5355\u751F\u6210",value:0},{label:"\u8F6C\u8D26\u4E2D",value:1},{label:"\u8F6C\u8D26\u6210\u529F",value:2},{label:"\u8F6C\u8D26\u5931\u8D25",value:3}],onUpdateValue:c=>{console.log(c)}}}],a=f(),u=f({}),p=f(!1),E=f(!0),h=f({}),m=Q({width:100,title:"\u64CD\u4F5C",key:"action",align:"center",fixed:"right",render(c){return F(M,{style:"button",actions:[{label:"\u8BE6\u60C5",type:"primary",quaternary:!0,onClick:I.bind(null,c),ifShow:()=>!0,auth:["ENT_TRANSFER_ORDER"]}]})}}),[i,{}]=K({gridProps:{cols:"1 s:2 m:3 l:4 xl:5 xxl:6"},labelWidth:80,schemas:r}),b=c=>k(this,null,function*(){return yield Z(C(C({},h.value),c))});function N(c){console.log(c)}function P(){a.value.pagination.page=1,a.value.reload()}function I(c){Y(c.transferId).then(_=>{u.value=_,p.value=!0,E.value=!0})}function R(c){h.value=c,P()}function V(c){console.log(c)}return(c,_)=>{const B=le,l=ae,D=T,g=ne,y=oe,U=se,S=re,L=ue;return X(),ee(L,{bordered:!1,class:"proCard"},{default:t(()=>[e(v(W),{onRegister:v(i),onSubmit:R,onReset:V},{statusSlot:t(({model:d,field:w})=>[e(B,{value:d[w],"onUpdate:value":z=>d[w]=z},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"]),e(v(J),{columns:v(de),request:b,"row-key":d=>d.id,ref_key:"tableRef",ref:a,actionColumn:v(m),"onUpdate:checkedRowKeys":N,"scroll-x":1090},null,8,["columns","row-key","actionColumn"]),e(S,{show:p.value,"onUpdate:show":_[2]||(_[2]=d=>p.value=d),width:600},{default:t(()=>[e(U,{title:"\u8F6C\u8D26\u8BA2\u5355\u8BE6\u60C5",closable:""},{default:t(()=>[e(g,{"label-placement":"left",columns:2},{default:t(()=>[e(l,{label:"\u5546\u6237\u7C7B\u578B"},{default:t(()=>[n(o(u.value.mchType===1?"\u666E\u901A\u5546\u6237":u.value.mchType===2?"\u7279\u7EA6\u5546\u6237":"\u672A\u77E5"),1)]),_:1}),e(l,{label:"\u5546\u6237\u53F7"},{default:t(()=>[n(o(u.value.mchNo),1)]),_:1}),e(l,{label:"\u5546\u6237\u540D\u79F0"},{default:t(()=>[n(o(u.value.mchName),1)]),_:1}),e(l,{label:"\u5546\u6237\u53F7"},{default:t(()=>[n(o(u.value.mchNo),1)]),_:1}),e(l,{label:"\u5E94\u7528APPID"},{default:t(()=>[n(o(u.value.appId),1)]),_:1}),e(l,{label:"\u670D\u52A1\u5546\u53F7"},{default:t(()=>[n(o(u.value.isvNo),1)]),_:1}),e(l,{label:"\u8F6C\u8D26\u8BA2\u5355\u53F7"},{default:t(()=>[e(D,{type:"wraning",size:"small"},{default:t(()=>[n(o(u.value.transferId),1)]),_:1})]),_:1}),e(l,{label:"\u5546\u6237\u8F6C\u8D26\u5355\u53F7"},{default:t(()=>[n(o(u.value.mchOrderNo),1)]),_:1}),e(l,{label:"\u6E20\u9053\u8BA2\u5355\u53F7"},{default:t(()=>[n(o(u.value.channelOrderNo),1)]),_:1}),e(l,{label:"\u91D1\u989D"},{default:t(()=>[e(D,{type:"success",size:"small",color:{textColor:"#52c41a",color:"#f6ffed",borderColor:"#b7eb8f"}},{default:t(()=>[n(o(u.value.amount/100),1)]),_:1})]),_:1}),e(l,{label:"\u8D27\u5E01\u4EE3\u7801"},{default:t(()=>[n(o(u.value.currency),1)]),_:1}),e(l,{label:"\u6536\u6B3E\u8D26\u53F7"},{default:t(()=>[e(D,{type:"success",size:"small",color:{textColor:"#52c41a",color:"#f6ffed",borderColor:"#b7eb8f"}},{default:t(()=>[n(o(u.value.accountNo),1)]),_:1})]),_:1}),e(l,{label:"\u6536\u6B3E\u4EBA\u59D3\u540D"},{default:t(()=>[n(o(u.value.accountName),1)]),_:1}),e(l,{label:"\u8F6C\u8D26\u5907\u6CE8"},{default:t(()=>[n(o(u.value.transferDesc),1)]),_:1}),e(l,{label:"\u8BA2\u5355\u72B6\u6001"},{default:t(()=>[e(D,{size:"small",type:u.value.state===0?"success":u.value.state===1?"warning":(u.value.state===2,"error")},{default:t(()=>[n(o(u.value.state===0?"\u8BA2\u5355\u751F\u6210":u.value.state===1?"\u8F6C\u8D26\u4E2D":u.value.state===2?"\u8F6C\u8D26\u6210\u529F":u.value.state===3?"\u8F6C\u8D26\u5931\u8D25":u.value.state===4?"\u4EFB\u52A1\u5173\u95ED":"\u672A\u77E5"),1)]),_:1},8,["type"])]),_:1}),e(l,{label:"\u9000\u6B3E\u6210\u529F\u65F6\u95F4"},{default:t(()=>[n(o(u.value.successTime),1)]),_:1}),e(l,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:t(()=>[n(o(u.value.createdAt),1)]),_:1}),e(l,{label:"\u66F4\u65B0\u65F6\u95F4"},{default:t(()=>[n(o(u.value.updatedAt),1)]),_:1}),e(l,{label:"\u63A5\u53E3\u4EE3\u7801"},{default:t(()=>[n(o(u.value.ifCode),1)]),_:1}),e(l,{label:"\u5165\u8D26\u7C7B\u578B"},{default:t(()=>[n(o(u.value.entryType),1)]),_:1}),e(l,{label:"\u5BA2\u6237\u7AEFIP"},{default:t(()=>[n(o(u.value.clientIp),1)]),_:1}),e(l,{label:"\u5F02\u6B65\u901A\u77E5\u5730\u5740"},{default:t(()=>[n(o(u.value.notifyUrl),1)]),_:1})]),_:1}),e(y),e(g,{columns:2},{default:t(()=>[e(l,{label:"\u6E20\u9053\u8BA2\u5355\u53F7"},{default:t(()=>[n(o(u.value.channelOrderNo),1)]),_:1}),e(l,{label:"\u6E20\u9053\u9519\u8BEF\u7801"},{default:t(()=>[n(o(u.value.errCode),1)]),_:1}),e(l,{label:"\u6E20\u9053\u9519\u8BEF\u63CF\u8FF0",span:4},{default:t(()=>[n(o(u.value.errMsg),1)]),_:1}),e(l,{label:"\u6E20\u9053\u989D\u5916\u53C2\u6570",span:4},{default:t(()=>[te("div",null,[e(B,{type:"textarea",modelValue:u.value.channelExtra,"onUpdate:modelValue":_[0]||(_[0]=d=>u.value.channelExtra=d),disabled:"",readonly:"",placeholder:""},null,8,["modelValue"])])]),_:1}),e(l,{label:"\u6269\u5C55\u53C2\u6570",span:4},{default:t(()=>[e(B,{type:"textarea",modelValue:u.value.extParam,"onUpdate:modelValue":_[1]||(_[1]=d=>u.value.extParam=d),disabled:"",readonly:"",placeholder:""},null,8,["modelValue"])]),_:1})]),_:1}),e(y),e(y)]),_:1})]),_:1},8,["show"])]),_:1})}}});var Be=G(ie,[["__scopeId","data-v-1ac5583c"]]);export{Be as default};
