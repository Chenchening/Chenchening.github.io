var N=Object.defineProperty;var y=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var D=(a,t,e)=>t in a?N(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,f=(a,t)=>{for(var e in t||(t={}))U.call(t,e)&&D(a,e,t[e]);if(y)for(var e of y(t))O.call(t,e)&&D(a,e,t[e]);return a};var C=(a,t,e)=>new Promise((c,p)=>{var d=n=>{try{u(e.next(n))}catch(r){p(r)}},_=n=>{try{u(e.throw(n))}catch(r){p(r)}},u=n=>n.done?c(n.value):Promise.resolve(n.value).then(d,_);u((e=e.apply(a,t)).next())});import{u as E,B as S}from"./useForm.8533c118.js";import{T as q,B as L}from"./TableAction.3aeeaebf.js";import P from"./AddOrUpdateDrawer.b9cdefc8.js";import{d as V,g as j}from"./role.6235f9ff.js";import{d as z,i as F,r as k,u as G,N as J,o as K,c as M,q as s,L as W,J as $,a as l,p as i,K as H,z as Q,A as X,G as Y}from"./index.1257e8b0.js";import"./propTypes.c047a88a.js";import"./componentSetting.9cb0737a.js";import"./index.esm.2ecd0768.js";import"./Popconfirm.2f3d4e90.js";import"./menu.6cfe7cca.js";const Z=[{title:"\u89D2\u8272ID",key:"roleId"},{title:"\u89D2\u8272\u540D\u79F0",key:"roleName"}],ee=Q(" \u65B0\u5EFA "),me=z({setup(a){const t=[{field:"roleId",component:"LBTextUp",componentProps:{placeholder:"\u89D2\u8272ID"}},{field:"roleName",component:"LBTextUp",componentProps:{placeholder:"\u89D2\u8272\u540D\u79F0"}}],[e,{}]=E({gridProps:{cols:"1 s:2 m:3 l:4 xl:5 xxl:6"},labelWidth:100,schemas:t}),c=F({roleId:"",roleName:""});function p(o){Object.assign(c,o),n()}function d(o){return C(this,null,function*(){return yield j(f(f({},c),o))})}const _=F({title:"\u64CD\u4F5C",key:"action",fixed:"right",align:"center",render(o){return W(q,{style:"button",actions:[{label:"\u4FEE\u6539",quaternary:!0,type:"primary",onClick:w.bind(null,o),ifShow:()=>!0},{label:"\u5220\u9664",quaternary:!0,type:"error",ifShow:()=>!0,popConfirm:{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",confirm:x.bind(null,o)}}]})}}),u=k();function n(){u.value&&(u.value.pagination.page=1,u.value.reload())}const r=k();function v(){r.value.init()}function w(o){r.value.init(o)}const h=G();function x(o){V(o.roleId).then(()=>{h.success("\u5220\u9664\u6210\u529F"),n()}).catch(g=>{h.warning(g||"\u64CD\u4F5C\u5931\u8D25")})}return(o,g)=>{const B=X,R=J,T=Y,A=$;return K(),M(A,null,{default:s(()=>[l(i(S),{submitOnReset:!0,onRegister:i(e),onSubmit:p},{statusSlot:s(({model:m,field:b})=>[l(B,{value:m[b],"onUpdate:value":I=>m[b]=I},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"]),l(i(L),{columns:i(Z),request:d,"row-key":m=>m.id,ref_key:"actionRef",ref:u,actionColumn:i(_)},{tableTitle:s(()=>[l(T,{type:"primary",onClick:v},{icon:s(()=>[l(R,null,{default:s(()=>[l(i(H))]),_:1})]),default:s(()=>[ee]),_:1})]),_:1},8,["columns","row-key","actionColumn"]),l(P,{onRefresh:n,ref_key:"AddOrUpdateDrawerRef",ref:r},null,512)]),_:1})}}});export{me as default};
