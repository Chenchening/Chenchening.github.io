import{d as F,i as P,ci as C,u as h,r as v,o as b,c as E,q as o,a as u,p as r,m as y,z as A,bQ as i,eN as N,A as x,B as U,G as k,a9 as q,H as S,aa as V,ab as D}from"./index.1257e8b0.js";const O=A("\u66F4\u65B0\u5BC6\u7801"),R=F({setup(I){const n=P({recordId:C().info.sysUserId,originalPwd:"",newPwd:"",confirmPwd:""}),p={originalPwd:{required:!0,message:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801",trigger:["blur","input"]},newPwd:{required:!0,trigger:["blur","input"],validator(a,e){if(e){if(e.length<6||e.length>12)return new Error("\u8BF7\u8F93\u51656-12\u4F4D\u65B0\u5BC6\u7801")}else return new Error("\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801");return!0}},confirmPwd:{required:!0,trigger:["blur","input"],validator(a,e){if(e){if(n.newPwd!==e)return new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4")}else return new Error("\u8BF7\u786E\u8BA4\u65B0\u5BC6\u7801");return!0}}},l=h(),_=v();function c(){_.value.validate(a=>{if(a)l.error("\u9A8C\u8BC1\u5931\u8D25\uFF0C\u8BF7\u6B63\u786E\u586B\u5199\u4FE1\u606F");else{const e=JSON.parse(JSON.stringify(n));e.originalPwd=i.encode(e.originalPwd),e.newPwd=i.encode(e.newPwd),e.confirmPwd=i.encode(e.confirmPwd),N(e).then(()=>{l.success("\u66F4\u65B0\u6210\u529F")}).catch(t=>{l.error(t.message)})}})}return(a,e)=>{const t=x,d=U,w=k,m=q,f=S,B=V,g=D;return b(),E(g,{cols:"1",responsive:"screen"},{default:o(()=>[u(B,null,{default:o(()=>[u(f,{model:r(n),"label-width":"auto",rules:p,ref_key:"formRef",ref:_,style:{width:"40%",margin:"0 auto","min-width":"300px"},"label-placement":"left"},{default:o(()=>[u(d,{label:"\u539F\u5BC6\u7801",path:"originalPwd"},{default:o(()=>[u(t,{type:"password","show-password-on":"mousedown",value:r(n).originalPwd,"onUpdate:value":e[0]||(e[0]=s=>r(n).originalPwd=s),placeholder:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801"},null,8,["value"])]),_:1}),u(d,{label:"\u65B0\u5BC6\u7801",path:"newPwd"},{default:o(()=>[u(t,{type:"password","show-password-on":"mousedown",value:r(n).newPwd,"onUpdate:value":e[1]||(e[1]=s=>r(n).newPwd=s),placeholder:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801"},null,8,["value"])]),_:1}),u(d,{label:"\u786E\u8BA4\u65B0\u5BC6\u7801\uFF1A",path:"confirmPwd"},{default:o(()=>[u(t,{type:"password","show-password-on":"mousedown",value:r(n).confirmPwd,"onUpdate:value":e[2]||(e[2]=s=>r(n).confirmPwd=s),placeholder:"\u786E\u8BA4\u65B0\u5BC6\u7801\uFF1A"},null,8,["value"])]),_:1}),y("div",null,[u(m,{justify:"center"},{default:o(()=>[u(w,{type:"primary",onClick:c},{default:o(()=>[O]),_:1})]),_:1})])]),_:1},8,["model"])]),_:1})]),_:1})}}});export{R as default};
